// Class modifiers sealed

// üîé –©–æ —Ç–∞–∫–µ sealed class?
// sealed class ‚Äî —Ü–µ –∫–ª–∞—Å, —è–∫–∏–π –º–æ–∂–Ω–∞ –Ω–∞—Å–ª—ñ–¥—É–≤–∞—Ç–∏/—Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏
// —Ç—ñ–ª—å–∫–∏ –≤ –º–µ–∂–∞—Ö —Ç—ñ—î—ó –∂ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏.
// üîê –í—Å—ñ –ø—ñ–¥–∫–ª–∞—Å–∏ —Ç–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–∞—é—Ç—å –±—É—Ç–∏ –≤ —Ç—ñ–π —Å–∞–º—ñ–π –±—ñ–±–ª—ñ–æ—Ç–µ—Ü—ñ,
// —Ç–æ–±—Ç–æ –Ω–µ –º–æ–∂–Ω–∞ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ –∞–±–æ —ñ–º–ø–ª–µ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ sealed –∫–ª–∞—Å –ø–æ–∑–∞ –º–µ–∂–∞–º–∏ –ø–∞–∫–µ—Ç–∞ –∞–±–æ library.

// üß† –ù–∞–≤—ñ—â–æ?
// –î–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è (–∞–ª–µ –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤).
// –©–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–∫–Ω—É—Ç–∏–π –Ω–∞–±—ñ—Ä –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: —Ç–∏–ø–∏ —Å—Ç–∞–Ω—ñ–≤ —É BLoC –∞–±–æ –ø–æ–¥—ñ–π.
// –î—É–∂–µ —Å—Ö–æ–∂–µ –Ω–∞ sealed —É Kotlin –∞–±–æ enum-–ø–æ–¥—ñ–±–Ω—ñ –∫–ª–∞—Å–∏.

// ‚úÖ –©–æ –¥–æ–∑–≤–æ–ª–µ–Ω–æ:

// | –û–ø–µ—Ä–∞—Ü—ñ—è           | –£—Å–µ—Ä–µ–¥–∏–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ | –ó–æ–≤–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ |
// | ------------------ | -------------------- | ---------------- |
// | `extends`          | ‚úÖ                    | ‚ùå                |
// | `implements`       | ‚úÖ                    | ‚ùå                |
// | `mixin on`         | ‚úÖ                    | ‚ùå                |
// | –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–Ω—Å—Ç–∞–Ω—Å—É | ‚úÖ (—è–∫—â–æ –Ω–µ abstract) | ‚úÖ                |

// ‚ö†Ô∏è –ê–ª–µ —á–∞—Å—Ç–æ sealed –ø–æ—î–¥–Ω—É—î—Ç—å—Å—è –∑ abstract, —Ç–æ–º—É —ñ–Ω—Å—Ç–∞–Ω—Å–∏ –∑–∞–∑–≤–∏—á–∞–π –Ω–µ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è.

// üìå –ü—Ä–∏–∫–ª–∞–¥: –º–æ–¥–µ–ª—å —Å—Ç–∞–Ω—ñ–≤

import 'package:flutter/material.dart';

sealed class AuthState {}

final class AuthInitial extends AuthState {}

final class AuthLoading extends AuthState {}

final class Authenticated extends AuthState {
  final String userId;
  Authenticated(this.userId);
}

final class Unauthenticated extends AuthState {}

// üß∞ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —É Flutter (—Ç–∏–ø–æ–≤–∏–π –∫–µ–π—Å):

Widget buildAuth(AuthState state) {
  return switch (state) {
    AuthInitial() => const CircularProgressIndicator(),
    AuthLoading() => const CircularProgressIndicator(),
    Authenticated(:final userId) => Text('–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ, $userId'),
    Unauthenticated() => const Text('–£–≤—ñ–π–¥—ñ—Ç—å, –±—É–¥—å –ª–∞—Å–∫–∞'),
  };
}

// üß† sealed –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ —Ç–∏ –ø–µ—Ä–µ—Ä–∞—Ö—É–≤–∞–≤ —É—Å—ñ –º–æ–∂–ª–∏–≤—ñ –ø—ñ–¥–∫–ª–∞—Å–∏, –∞ Dart –º–æ–∂–µ –¥–∞—Ç–∏ –ø—ñ–¥–∫–∞–∑–∫—É –ø—Ä–∏ switch.

// ü™§ –ß–∞—Å—Ç—ñ –ø–æ–º–∏–ª–∫–∏:
// –ù–µ–º–æ–∂–ª–∏–≤–æ —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ sealed-–∫–ª–∞—Å –≤ —ñ–Ω—à–æ–º—É –ø–∞–∫–µ—Ç—ñ ‚Üí —Ü–µ –ø–æ–º–∏–ª–∫–∞, —è–∫—â–æ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ö–æ—á–µ—à –¥–æ–¥–∞—Ç–∏ —â–µ –æ–¥–∏–Ω —Å—Ç–∞–Ω –≤ app-layer.
// –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ final, base, sealed –∞–±–æ abstract –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—ñ–¥–∫–ª–∞—Å—É.
