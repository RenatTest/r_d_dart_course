// Class modifiers mixin

// üß© mixin vs mixin class
// üîé –©–æ —Ç–∞–∫–µ mixin?
// mixin ‚Äî —Ü–µ —Ç–∏–ø, —è–∫–∏–π –¥–æ–¥–∞—î —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –¥–æ —ñ–Ω—à–∏—Ö –∫–ª–∞—Å—ñ–≤,
// –Ω–µ —Å—Ç–≤–æ—Ä—é—é—á–∏ –Ω–æ–≤—É —ñ—î—Ä–∞—Ä—Ö—ñ—é —Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è. –í—ñ–Ω –Ω–µ –º–æ–∂–µ –º–∞—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤.

mixin Loggers {
  void log(String message) => print('LOG: $message');
}

// üß© –©–æ —Ç–∞–∫–µ mixin class?
// mixin class ‚Äî —Ü–µ –∫–ª–∞—Å, —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —è–∫ mixin,
// –∞–ª–µ –Ω–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ –∑–≤–∏—á–∞–π–Ω–æ–≥–æ mixin, –≤—ñ–Ω –º–æ–∂–µ –º–∞—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, extends, implements, —ñ –±—É—Ç–∏ —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ–π–æ–≤–∞–Ω–∏–º.

mixin class Loggable {
  final DateTime createdAt = DateTime.now();
  void log(String message) => print('$createdAt: $message');
}

// üî¨ –û—Å–Ω–æ–≤–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è:
// | –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞                    | `mixin`                                      | `mixin class`                         |
// | --------------------------------- | -------------------------------------------- | ------------------------------------- |
// | üîÅ –ú–æ–∂–Ω–∞ –∑–º—ñ—à—É–≤–∞—Ç–∏ (`with`)       | ‚úÖ                                            | ‚úÖ                                     |
// | üß± –ú–∞—î –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä                | ‚ùå                                            | ‚úÖ                                     |
// | üß¨ –ú–∞—î `extends` –∞–±–æ `implements` | ‚ùå                                            | ‚úÖ                                     |
// | üß† –ú–∞—î –ø–æ–≤–µ–¥—ñ–Ω–∫—É + —Å—Ç–∞–Ω           | ‚úÖ (–∞–ª–µ –±–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞)                     | ‚úÖ (–ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ, —è–∫ –∑–≤–∏—á–∞–π–Ω–∏–π –∫–ª–∞—Å)     |
// | üß∞ –¢–∏–ø–æ–≤–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è            | –ù–µ–≤–µ–ª–∏–∫–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π ‚Äú–≤–ø–æ—Ä—Å–∫—É–≤–∞—á‚Äù        | –ë—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∞ –º–æ–¥–µ–ª—å      |
// | ‚ö†Ô∏è –û–±–º–µ–∂–µ–Ω–Ω—è                      | –ù–µ –º–æ–∂–Ω–∞ —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ—é–≤–∞—Ç–∏, –Ω–µ –º–æ–∂–Ω–∞ –Ω–∞—Å–ª—ñ–¥—É–≤–∞—Ç–∏ | –ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π –∫–ª–∞—Å, —è–∫–∏–π –º–æ–∂–Ω–∞ –ø–æ—à–∏—Ä–∏—Ç–∏ |

// üìå –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏:
// mixin ‚Äî –∫–æ–ª–∏ —Ö–æ—á–µ—à –ª–µ–≥–∫—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É –±–µ–∑ —Å—Ç–∞–Ω—É (–ª–æ–≥–µ—Ä, –∫—ç—à, –≤—ñ–¥–∂–µ—Ç-—Ö–µ–ª–ø–µ—Ä).
// mixin class ‚Äî –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∑ –ø–æ–ª—è–º–∏,
// –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞–º–∏, –∞–±–æ —Ö–æ—á–µ—à –¥–æ–∑–≤–æ–ª–∏—Ç–∏ —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ—é–≤–∞–Ω–Ω—è –∞–±–æ —Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è.

// ‚ùó –ß–∞—Å—Ç–µ –Ω–µ–ø–æ—Ä–æ–∑—É–º—ñ–Ω–Ω—è:
// ü§Ø mixin != mixin class: –ø–µ—Ä—à–∏–π ‚Äî –æ–±–º–µ–∂–µ–Ω–∏–π, –¥—Ä—É–≥–∏–π ‚Äî –º–∞–π–∂–µ —è–∫ –∑–≤–∏—á–∞–π–Ω–∏–π –∫–ª–∞—Å.

// ‚úÖ mixin ‚Äî –ø—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥ (–±–µ–∑ —Å—Ç–∞–Ω—É)

mixin Logger {
  void log(String message) {
    print('üìù $message');
  }
}

class MyService with Logger {
  void fetchData() {
    log('–î–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è...');
    // –ª–æ–≥—ñ–∫–∞
  }
}

// ‚úÖ mixin class ‚Äî —Å–∫–ª–∞–¥–Ω—ñ—à–∏–π –ø—Ä–∏–∫–ª–∞–¥ (–∑—ñ —Å—Ç–∞–Ω–æ–º)

mixin class CounterMixin {
  int _count = 0;

  void increment() {
    _count++;
    print('üî¢ –ü–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è: $_count');
  }
}

class CounterService with CounterMixin {}

void main() {
  final service = MyService();
  service.fetchData(); // üìù –î–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è...
  print('---------------------------------------------');
  final counter = CounterService();
  counter.increment(); // üî¢ –ü–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è: 1
  counter.increment(); // üî¢ –ü–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è: 2
}

// üîç mixin –Ω–µ –¥–æ–∑–≤–æ–ª—è—î –º–∞—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è —á–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏,
// –∞ mixin class ‚Äî –¥–æ–∑–≤–æ–ª—è—î. –¶–µ –≥–æ–ª–æ–≤–Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω–∞ –≤—ñ–¥–º—ñ–Ω–Ω—ñ—Å—Ç—å.
